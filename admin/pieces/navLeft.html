<%
var obj = arguments[0] || {};
// We always want to print this table, but the links on the left side are chosen
// based on the first element of the sectionList. If we have no idea what
// section we're in, use the dummy section "$" which doesn't have a section
// in the section tree, thereby rendering no links.
var sectionList = obj.sectionList || ["$"];
var topSection = sectionList[0];

var sectionTree = core.admin.data.sectiontree();

if(! sectionTree[topSection]){
    sectionTree[topSection] = {};
}

var sectionNames = {
   'system/database/dbview': 'View Collections',
   'system/database/dbprofile': 'Profiling',
   'system/logs/logScroll': 'Scrolling Logs',
   'system/logs/logMemory': 'Logs in Memory',
};
%>
<table cellpadding="0" cellspacing="0" border="0">
  <tr>
        <!-- Left Side -->
    <td width="180" valign="top">
      <div id="leftnav">
        <ul>
          <% for(var key in sectionTree[topSection]){
             if(key == "$") continue;
                 if(key != sectionList[1]){ %>
                   <li><a href="<%= sectionTree[topSection][key].$ || key %>"><%= key.toUpperCase() %></a></li>
                   <%
                 } else {
                    %>
                    <li>
                      <ul>
                        <li class="current-heading"><a href=""><%= key.toUpperCase() %></a></li>
                        <% for(var subkey in sectionTree[topSection][key]){ %>
                        <li class="<%= subkey == sectionList[2] ? 'current-page' : "" %>"><a href="<%= subkey %>"><%= sectionNames[[topSection, key, subkey].join('/')] %></a></li>
                        <% } %>
                      </ul>
                    </li>
                    <%
                 } %>
                 <%
             } %>
        </ul>
      </div>
    </td>
    <!-- Right Side -->
        <td class="maincontent" width="100%" valign="top">

