<%
core.app.bugtracker.data.search();
log("Saving a search with " + tojson(request));
o = Object.extend({}, request);
var name = o.name;
delete o.name;

var args = [];
for(var field in o){
    args.push({key: field, value: o[field]});
}

s = new app.bugtracker.data.Search(user, args, name);
db.bugtracker.searches.save(s);

core.app.bugtracker.html.search(s);
%>
